# 13. Roman to Integer

**Link**: https://leetcode.com/problems/roman-to-integer/  
**Tags**: Hash Table, Math, String  
**Difficulty**: Easy

## 題目解釋
羅馬數字包含以下七種字符: `I`, `V`, `X`, `L`, `C`, `D` 和 `M`。  
給定一個羅馬數字，將其轉換成整數。  
通常情況下，羅馬數字中小的數字在大的數字的右邊。但也存在特例，例如 4 寫做 `IV`，即左邊的小數字表示減去。

## 限制與條件
- `1 <= s.length <= 15`
- `s` 僅包含羅馬數字字符
- 題目數據保證 `s` 是一個有效的羅馬數字
- 範圍在 `[1, 3999]`

## 解法思路
### 思考過程
遍歷字串，將每個字符轉換為對應的數值累加。  
關鍵在於處理「減法」的情況（如 `IV`, `IX` 等）。  
- 如果當前字符代表的數值 **大於** 前一個字符的數值，說明遇到了特例（如 `IV` 中的 `V` 大於 `I`）。  
- 此時，我們不僅要加上當前字符的值，還要減去兩倍的前一個字符值（因為前一個字符之前被加過一次，現在視為減法，所以要減去 `2 * past`）。  
- 或者也可以像代碼中那樣：根據前一個字符是什麼，加上修正後的數值（例如遇到 `V` 且前一個是 `I`，則加 3，因為 `4 - 1 = 3`，意即修正原本加 1 為加 4）。  

### 解法：Iteration with Prev Tracking
> [!IMPORTANT]
> 思路：遍歷字串，根據前一個字符判斷是否需要進行減法修正。  

### 複雜度分析
| 維度 | 複雜度 | 說明 |
| --- | --- | --- |
| 時間複雜度 | O(n) | 遍歷字串一次。 |
| 空間複雜度 | O(1) | 僅使用常數空間。 |

```cpp
class Solution {
    public:
        int romanToInt(string s) {
            int num=0, index=0;
            char past='O', current;
            while(index<s.size()){
                current=s[index];
                switch(current){
                    case 'I':
                        num++;
                        past='I';
                        break;
    
                    case 'V':
                        if(past=='I'){
                            num+=3;
                        }
                        else{
                            num+=5;
                        }
                        past='V';
                        break;
    
                    case 'X':
                        if(past=='I'){
                            num+=8;
                        }
                        else{
                            num+=10;
                        }
                        past='X';
                        break;
    
                    case 'L':
                        if(past=='X'){
                            num+=30;
                        }
                        else{
                            num+=50;
                        }
                        past='L';
                        break;
    
                    case 'C':
                        if(past=='X'){
                            num+=80;
                        }
                        else{
                            num+=100;
                        }
                        past='C';
                        break;
    
                    case 'D':
                        if(past=='C'){
                            num+=300;
                        }
                        else{
                            num+=500;
                        }
                        past='D';
                        break;
    
                    case 'M':
                        if(past=='C'){
                            num+=800;
                        }
                        else{
                            num+=1000;
                        }
                        past='M';
                        break;
                }
                index++;
            }
            return num;
        }
    };
```
